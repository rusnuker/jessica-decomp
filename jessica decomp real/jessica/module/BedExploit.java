/*
 * Decompiled with CFR 0.152.
 */
package jessica.module;

import jessica.Category;
import jessica.Module;
import jessica.Wrapper;
import net.minecraft.block.Block;
import net.minecraft.block.BlockBed;
import net.minecraft.network.play.client.CPacketPlayerDigging;
import net.minecraft.util.math.BlockPos;

public class BedExploit
extends Module {
    int xPos;
    int yPos;
    int zPos;

    public BedExploit() {
        super("BedExploit", 0, Category.Exploits);
    }

    @Override
    public void onUpdate() {
        int x = -4;
        while (x < 4) {
            int y = 4;
            while (y > -4) {
                int z = -4;
                while (z < 4) {
                    this.xPos = (int)Wrapper.player().posX + x;
                    this.yPos = (int)Wrapper.player().posY + y;
                    this.zPos = (int)Wrapper.player().posZ + z;
                    BlockPos blockPos = new BlockPos(this.xPos, this.yPos, this.zPos);
                    Block block = Wrapper.world().getBlockState(blockPos).getBlock();
                    if (block instanceof BlockBed) {
                        Wrapper.sendPacketBypass(new CPacketPlayerDigging(CPacketPlayerDigging.Action.START_DESTROY_BLOCK, blockPos, Wrapper.mc().objectMouseOver.sideHit));
                        Wrapper.sendPacketBypass(new CPacketPlayerDigging(CPacketPlayerDigging.Action.STOP_DESTROY_BLOCK, blockPos, Wrapper.mc().objectMouseOver.sideHit));
                    }
                    ++z;
                }
                --y;
            }
            ++x;
        }
    }
}

